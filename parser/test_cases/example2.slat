# This is an example file
title '10 storey frame 2D direct loss only WRITTEN 15/12/07 B BRADLEY';
print title example1_out.txt --new;

# Set up integration parameters:
integration maq 1E-6 1024;


# Define the IM function:
detfn im_interp loglog    [0.01, 0.376775], [0.02, 0.155158], [0.04, 0.054048],
        [0.06, 0.027886], [0.08, 0.017241], [0.1, 0.011857],  [0.2, 0.003656],
	[0.3, 0.001628],  [0.4, 0.000794],  [0.5, 0.000405],  [0.6, 0.000214],
	[0.7, 0.000115],  [0.8, 0.000064],  [0.9, 0.000037],  [1.0, 0.000021],
	[1.1, 0.000013],  [1.2, 7.00E-06],  [1.3, 4.00E-06],  [1.4, 3.00E-06],
	[1.5, 1.80E-06],  [1.6, 1.00E-06],  [1.7, 7.00E-07],  [1.8, 4.00E-07],
	[1.9, 2.00E-07],  [2.0, 1.00E-07];

#recorder detfn im_interp 0.01:0.001:1.0 example2_imfn.txt --new;


importprobfn probfn1  /home/mike/Downloads/SLATv1.15_Public/example2_10storeybuilding/RB_EDP1.txt;
importprobfn probfn2  /home/mike/Downloads/SLATv1.15_Public/example2_10storeybuilding/RB_EDP2.txt;
importprobfn probfn3  /home/mike/Downloads/SLATv1.15_Public/example2_10storeybuilding/RB_EDP3.txt;
importprobfn probfn4  /home/mike/Downloads/SLATv1.15_Public/example2_10storeybuilding/RB_EDP4.txt;
importprobfn probfn5  /home/mike/Downloads/SLATv1.15_Public/example2_10storeybuilding/RB_EDP5.txt;
importprobfn probfn6  /home/mike/Downloads/SLATv1.15_Public/example2_10storeybuilding/RB_EDP6.txt;
importprobfn probfn7  /home/mike/Downloads/SLATv1.15_Public/example2_10storeybuilding/RB_EDP7.txt;
importprobfn probfn8  /home/mike/Downloads/SLATv1.15_Public/example2_10storeybuilding/RB_EDP8.txt;
importprobfn probfn9  /home/mike/Downloads/SLATv1.15_Public/example2_10storeybuilding/RB_EDP9.txt;
importprobfn probfn10  /home/mike/Downloads/SLATv1.15_Public/example2_10storeybuilding/RB_EDP10.txt;
importprobfn probfn11  /home/mike/Downloads/SLATv1.15_Public/example2_10storeybuilding/RB_EDP11.txt;
importprobfn probfn12  /home/mike/Downloads/SLATv1.15_Public/example2_10storeybuilding/RB_EDP12.txt;
importprobfn probfn13  /home/mike/Downloads/SLATv1.15_Public/example2_10storeybuilding/RB_EDP13.txt;
importprobfn probfn14  /home/mike/Downloads/SLATv1.15_Public/example2_10storeybuilding/RB_EDP14.txt;
importprobfn probfn15  /home/mike/Downloads/SLATv1.15_Public/example2_10storeybuilding/RB_EDP15.txt;
importprobfn probfn16  /home/mike/Downloads/SLATv1.15_Public/example2_10storeybuilding/RB_EDP16.txt;
importprobfn probfn17  /home/mike/Downloads/SLATv1.15_Public/example2_10storeybuilding/RB_EDP17.txt;
importprobfn probfn18  /home/mike/Downloads/SLATv1.15_Public/example2_10storeybuilding/RB_EDP18.txt;
importprobfn probfn19  /home/mike/Downloads/SLATv1.15_Public/example2_10storeybuilding/RB_EDP19.txt;
importprobfn probfn20  /home/mike/Downloads/SLATv1.15_Public/example2_10storeybuilding/RB_EDP20.txt;
importprobfn probfn21  /home/mike/Downloads/SLATv1.15_Public/example2_10storeybuilding/RB_EDP21.txt;

im im1 im_interp;
collapse im1 0.9, 0.470 --mu mean_x --sd sd_ln_x;
recorder imrate im1 0.01:0.001:3.0 example2_im_rate.txt --new;
recorder collapse im1 0.01:0.001:3.0 example2_collapse.txt --new;
recorder collrate im1 example2_collrate.txt --new;

#recorder probfn probfn1 0.05:0.05:1.5 --cols median_x example2_probfn1.txt --new;
#recorder probfn probfn2 0.05:0.05:1.5 --cols median_x example2_probfn2.txt --new;
#recorder probfn probfn3 0.05:0.05:1.5 --cols median_x example2_probfn3.txt --new;
#recorder probfn probfn4 0.05:0.05:1.5 --cols median_x example2_probfn4.txt --new;
#recorder probfn probfn5 0.05:0.05:1.5 --cols median_x example2_probfn5.txt --new;
#recorder probfn probfn6 0.05:0.05:1.5 --cols median_x example2_probfn6.txt --new;
#recorder probfn probfn7 0.05:0.05:1.5 --cols median_x example2_probfn7.txt --new;
#recorder probfn probfn8 0.05:0.05:1.5 --cols median_x example2_probfn8.txt --new;
#recorder probfn probfn9 0.05:0.05:1.5 --cols median_x example2_probfn9.txt --new;
#recorder probfn probfn10 0.05:0.05:1.5 --cols median_x example2_probfn10.txt --new;
#recorder probfn probfn11 0.05:0.05:1.5 --cols median_x example2_probfn11.txt --new;
#recorder probfn probfn12 0.05:0.05:1.5 --cols median_x example2_probfn12.txt --new;
#recorder probfn probfn13 0.05:0.05:1.5 --cols median_x example2_probfn13.txt --new;
#recorder probfn probfn14 0.05:0.05:1.5 --cols median_x example2_probfn14.txt --new;
#recorder probfn probfn15 0.05:0.05:1.5 --cols median_x example2_probfn15.txt --new;
#recorder probfn probfn16 0.05:0.05:1.5 --cols median_x example2_probfn16.txt --new;
#recorder probfn probfn17 0.05:0.05:1.5 --cols median_x example2_probfn17.txt --new;
#recorder probfn probfn18 0.05:0.05:1.5 --cols median_x example2_probfn18.txt --new;
#recorder probfn probfn19 0.05:0.05:1.5 --cols median_x example2_probfn19.txt --new;
#recorder probfn probfn20 0.05:0.05:1.5 --cols median_x example2_probfn20.txt --new;
#recorder probfn probfn21 0.05:0.05:1.5 --cols median_x example2_probfn21.txt --new;

edp edp1 im1 probfn1;
recorder edpim edp1 0.05:0.05:3.0 --cols mean_x, sd_ln_x example2_im_edp1.txt --new;
recorder edprate edp1 0.05:0.05:3.0 example2_edp1_rate.txt --new;

edp edp2 im1 probfn2;
recorder edpim edp2 0.05:0.05:3.0 --cols mean_x, sd_ln_x example2_im_edp2.txt --new;
recorder edprate edp2 0.001:0.001:0.100 example2_edp2_rate.txt --new;

edp edp3 im1 probfn3;
recorder edpim edp3 0.05:0.05:3.0 --cols mean_x, sd_ln_x example2_im_edp3.txt --new;
recorder edprate edp3 0.05:0.05:3.0 example2_edp3_rate.txt --new;

edp edp4 im1 probfn4;
recorder edpim edp4 0.05:0.05:3.0 --cols mean_x, sd_ln_x example2_im_edp4.txt --new;
recorder edprate edp4 0.001:0.001:0.100 example2_edp4_rate.txt --new;

edp edp5 im1 probfn5;
recorder edpim edp5 0.05:0.05:3.0 --cols mean_x, sd_ln_x example2_im_edp5.txt --new;
recorder edprate edp5 0.05:0.05:3.0 example2_edp5_rate.txt --new;

edp edp6 im1 probfn6;
recorder edpim edp6 0.05:0.05:3.0 --cols mean_x, sd_ln_x example2_im_edp6.txt --new;
recorder edprate edp6 0.001:0.001:0.100 example2_edp6_rate.txt --new;

edp edp7 im1 probfn7;
recorder edpim edp7 0.05:0.05:3.0 --cols mean_x, sd_ln_x example2_im_edp7.txt --new;
recorder edprate edp7 0.05:0.05:3.0 example2_edp7_rate.txt --new;

edp edp8 im1 probfn8;
recorder edpim edp8 0.05:0.05:3.0 --cols mean_x, sd_ln_x example2_im_edp8.txt --new;
recorder edprate edp8 0.001:0.001:0.100 example2_edp8_rate.txt --new;

edp edp9 im1 probfn9;
recorder edpim edp9 0.05:0.05:3.0 --cols mean_x, sd_ln_x example2_im_edp9.txt --new;
recorder edprate edp9 0.05:0.05:3.0 example2_edp9_rate.txt --new;

edp edp10 im1 probfn10;
recorder edpim edp10 0.05:0.05:3.0 --cols mean_x, sd_ln_x example2_im_edp10.txt --new;
recorder edprate edp10 0.001:0.001:0.100 example2_edp10_rate.txt --new;

edp edp11 im1 probfn11;
recorder edpim edp11 0.05:0.05:3.0 --cols mean_x, sd_ln_x example2_im_edp11.txt --new;
recorder edprate edp11 0.05:0.05:3.0 example2_edp11_rate.txt --new;

edp edp12 im1 probfn12;
recorder edpim edp12 0.05:0.05:3.0 --cols mean_x, sd_ln_x example2_im_edp12.txt --new;
recorder edprate edp12 0.001:0.001:0.100 example2_edp12_rate.txt --new;

edp edp13 im1 probfn13;
recorder edpim edp13 0.05:0.05:3.0 --cols mean_x, sd_ln_x example2_im_edp13.txt --new;
recorder edprate edp13 0.05:0.05:3.0 example2_edp13_rate.txt --new;

edp edp14 im1 probfn14;
recorder edpim edp14 0.05:0.05:3.0 --cols mean_x, sd_ln_x example2_im_edp14.txt --new;
recorder edprate edp14 0.001:0.001:0.100 example2_edp14_rate.txt --new;

edp edp15 im1 probfn15;
recorder edpim edp15 0.05:0.05:3.0 --cols mean_x, sd_ln_x example2_im_edp15.txt --new;
recorder edprate edp15 0.05:0.05:3.0 example2_edp15_rate.txt --new;

edp edp16 im1 probfn16;
recorder edpim edp16 0.05:0.05:3.0 --cols mean_x, sd_ln_x example2_im_edp16.txt --new;
recorder edprate edp16 0.001:0.001:0.100 example2_edp16_rate.txt --new;

edp edp17 im1 probfn17;
recorder edpim edp17 0.05:0.05:3.0 --cols mean_x, sd_ln_x example2_im_edp17.txt --new;
recorder edprate edp17 0.05:0.05:3.0 example2_edp17_rate.txt --new;

edp edp18 im1 probfn18;
recorder edpim edp18 0.05:0.05:3.0 --cols mean_x, sd_ln_x example2_im_edp18.txt --new;
recorder edprate edp18 0.001:0.001:0.100 example2_edp18_rate.txt --new;

edp edp19 im1 probfn19;
recorder edpim edp19 0.05:0.05:3.0 --cols mean_x, sd_ln_x example2_im_edp19.txt --new;
recorder edprate edp19 0.05:0.05:3.0 example2_edp19_rate.txt --new;

edp edp20 im1 probfn20;
recorder edpim edp20 0.05:0.05:3.0 --cols mean_x, sd_ln_x example2_im_edp20.txt --new;
recorder edprate edp20 0.001:0.001:0.100 example2_edp20_rate.txt --new;

edp edp21 im1 probfn21;
recorder edpim edp21 0.05:0.05:3.0 --cols mean_x, sd_ln_x example2_im_edp21.txt --new;
recorder edprate edp21 0.05:0.05:3.0 example2_edp21_rate.txt --new;

# Fragility and Loss functions
fragfn DUCTIVE_BEAMS  
       [0.005, 0.40],  # Widespread light cracking
       [0.010, 0.45],  # Significant cracking
       [0.030, 0.50],  # Very large cracks
       [0.060, 0.60]   # Very severe cracking
     --mu mean_x
     --sd sd_ln_x;
lossfn DUCTIVE_BEAMS simple 
       [1143, 0.42],
       [3214, 0.4],
       [4900, 0.37],
       [4900, 0.37]
     --mu mean_x
     --sd sd_ln_x;


# Component Groups
compgroup GRAV_COLS edp2 DUCTIVE_BEAMS DUCTIVE_BEAMS 20;
recorder lossedp GRAV_COLS 0.001:0.001:0.1 --cols mean_x, sd_ln_x example2_cg1_edp.txt --new;
recorder lossim GRAV_COLS 0.001:0.001:3.00 --cols mean_x, sd_ln_x example2_cg1_im.txt --new;
analyze;
